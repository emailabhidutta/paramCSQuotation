<div [formGroup]="parentForm">
  <div formArrayName="lineItems">
    <div *ngFor="let item of lineItems.controls; let i = index" [formGroupName]="i">
      <c-row class="mb-3">
        <c-col md="1">
          <label cLabel>Item</label>
          <input cFormControl formControlName="item">
        </c-col>
        <c-col md="2">
          <label cLabel>Material No.</label>
          <input cFormControl formControlName="materialNo">
        </c-col>
        <c-col md="2">
          <label cLabel>Material Description</label>
          <input cFormControl formControlName="materialDescription">
        </c-col>
        <c-col md="1">
          <label cLabel>Per Price</label>
          <input cFormControl type="number" formControlName="perPrice" (change)="calculateOrderValue(i)">
        </c-col>
        <c-col md="1">
          <label cLabel>Per</label>
          <input cFormControl type="number" formControlName="per">
        </c-col>
        <c-col md="1">
          <label cLabel>UoM</label>
          <input cFormControl formControlName="uom">
        </c-col>
        <c-col md="1">
          <label cLabel>Discount</label>
          <input cFormControl type="number" formControlName="discountValue" (change)="calculateOrderValue(i)">
        </c-col>
        <c-col md="1">
          <label cLabel>Surcharge</label>
          <input cFormControl type="number" formControlName="surchargeValue" (change)="calculateOrderValue(i)">
        </c-col>
        <c-col md="1">
          <label cLabel>Quantity</label>
          <input cFormControl type="number" formControlName="orderQuantity" (change)="calculateOrderValue(i)">
        </c-col>
        <c-col md="1">
          <label cLabel>Order Value</label>
          <input cFormControl type="number" formControlName="orderValue" readonly>
        </c-col>
      </c-row>
      <c-row class="mb-3">
        <c-col md="4">
          <label cLabel>Item Text</label>
          <input cFormControl formControlName="itemText">
        </c-col>
        <c-col md="4">
          <label cLabel>Usage</label>
          <select cSelect formControlName="usage">
            <option value="">Select usage</option>
            <option value="option1">Option 1</option>
            <option value="option2">Option 2</option>
            <option value="option3">Option 3</option>
          </select>
        </c-col>
        <c-col md="3">
          <label cLabel>Project ID</label>
          <input cFormControl formControlName="projectId">
        </c-col>
        <c-col md="1">
          <button cButton color="danger" (click)="removeLineItem(i)">Remove</button>
        </c-col>
      </c-row>
    </div>
  </div>
  <button cButton color="secondary" (click)="addLineItem()">Add Line Item</button>
</div>
